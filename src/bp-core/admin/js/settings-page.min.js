!function(){function e(e,t,i){var n=new Date;n.setTime(n.getTime()+60*i*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}var t=jQuery.noConflict(),i=[],n=[];t(function(){t("[data-run-js-condition]").each(function(){var e=t(this).data("run-js-condition"),i=t(this).prop("tagName");t(this).on("change.run-condition",function(){if("SELECT"===i&&t(this).is(":visible")){var n=e+"-"+t(this).val();return t('[class*="js-show-on-'+e+'-"]:not(.js-show-on-'+n+")").hide(),t(".js-show-on-"+n).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}t(this).prop("checked")&&t(this).is(":visible")?(t(".js-hide-on-"+e).hide(),t(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition")):(t(".js-hide-on-"+e).show(),t(".js-show-on-"+e).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),t("body.buddypress.buddyboss_page_bp-pages .bp-admin-card").length>1&&t(".create-background-page").click(function(){var e=t(this).attr("data-name");t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){window.location.href=e.data.url}})}),t(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var i=t(e.delegateTarget).prevAll(".bp-search-parent-field").first();i.length&&e.currentTarget.checked&&i.find('input[type="checkbox"]').prop("checked",!0)}),t(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var i=t(e.delegateTarget).nextUntil(".bp-search-parent-field");i.length&&!e.currentTarget.checked&&i.find('input[type="checkbox"]').prop("checked",!1)})}),t(document).ready(function(){var s=t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");if(t("body.buddypress.post-type-bp-group-type").length){var a=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]');t(s).removeClass("current"),t(a).addClass("current"),t(a).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")}if(t("body.buddypress.post-type-bp-email").length){var o=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]');t(s).removeClass("current"),t(o).addClass("current"),t(o).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")}if(t("body.buddypress.post-type-topic").length){var r=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');t(r).addClass("current"),t(r).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(t("body.buddypress.post-type-reply").length){var p=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');t(p).addClass("current"),t(p).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(t("body.buddypress.post-type-bp-member-type").length){var d=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');t(s).removeClass("current"),t(d).addClass("current"),t(d).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(t("body.buddypress.post-type-bp_ps_form").length){var c=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');t(s).removeClass("current"),t(c).addClass("current"),t(c).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bbp-repair").length){var u=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(u).addClass("current"),t(u).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bbp-converter").length){var l=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(l).addClass("current"),t(l).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bp-media-import").length){var m=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(m).addClass("current"),t(m).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bp-member-type-import").length||t("body.buddypress.buddyboss_page_bp-repair-community").length){var b=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(b).addClass("current"),t(b).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}t("body .section-bp_search_settings_community").length&&(t("body .section-bp_search_settings_community table td input:checkbox:checked").length===t("body .section-bp_search_settings_community table td input:checkbox").length&&t("#bp_search_select_all_components").prop("checked",!0),t("#bp_search_select_all_components").click(function(){var e=t("body .section-bp_search_settings_community table");t("td input:checkbox",e).prop("checked",this.checked)}),t("body .section-bp_search_settings_community table td input:checkbox").click(function(){t("body .section-bp_search_settings_community table td input:checkbox:checked").length===t("body .section-bp_search_settings_community table td input:checkbox").length?t("#bp_search_select_all_components").prop("checked",!0):t("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===t(this).attr("id")&&!0===t(this).prop("checked")&&!1===t("#bp_search_post_type_topic").prop("checked")&&t("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===t(this).attr("id")&&!0!==t(this).prop("checked")&&!0===t("#bp_search_topic_tax_topic-tag").prop("checked")&&t("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),t("body .section-bp_search_settings_post_types").length&&(t("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===t("body .section-bp_search_settings_post_types table td input:checkbox").length&&t("#bp_search_select_all_post_types").prop("checked",!0),t("#bp_search_select_all_post_types").click(function(){var e=t("body .section-bp_search_settings_post_types table");t("td input:checkbox",e).prop("checked",this.checked)}),t("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){t("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===t("body .section-bp_search_settings_post_types table td input:checkbox").length?t("#bp_search_select_all_post_types").prop("checked",!0):t("#bp_search_select_all_post_types").prop("checked",!1)})),t(".buddyboss_page_bp-activity").length&&t(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var i=t(this).find("video").get(0),n=t(this).find(".gif-play-button");!0===i.paused?(i.play(),n.hide()):(i.pause(),n.show())}),t("body.buddyboss_page_bp-help").length&&(t(".bp-help-card-grid").on("click","span.open",function(){t(this).toggleClass("active"),t(this).closest(".main").find("ul:first").toggle()}),t(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),t(".bp-help-card-grid li.selected").find("ul:first").show(),t(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),t(".bp-help-card-grid .sub-menu-count").each(function(){t(this).text("("+t(this).closest("li").find("ul:first li").size()+")")})),t(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?t(".bp-enable-group-restrict-invites").show():t(".bp-enable-group-restrict-invites").hide(),t(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?t(".bp-enable-group-restrict-invites").show():(t(".bp-enable-group-restrict-invites").hide(),t("#bp-enable-group-restrict-invites").prop("checked",!1))})),t("#bp_media_profile_media_support").change(function(){this.checked?t("#bp_media_profile_albums_support").prop("disabled",!1):(t("#bp_media_profile_albums_support").prop("disabled",!0),t("#bp_media_profile_albums_support").attr("checked",!1))}),t("#bp_media_group_media_support").change(function(){this.checked?t("#bp_media_group_albums_support").prop("disabled",!1):(t("#bp_media_group_albums_support").prop("disabled",!0),t("#bp_media_group_albums_support").attr("checked",!1))}),t(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){t('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);var h=function(){t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){if(void 0!==e.success&&void 0!==e.data){var i=e.data.total_media,n=e.data.total_albums,s=e.data.albums_done,a=e.data.media_done,o=e.data.import_status;t("#bp-media-import-albums-total").text(n),t("#bp-media-import-media-total").text(i),t("#bp-media-import-albums-done").text(s),t("#bp-media-import-media-done").text(a),"reset_albums"==o||"reset_media"==o||"reset_forum"==o||"reset_topic"==o||"reset_reply"==o||"reset_options"==o?t("#bp-media-resetting").show():t("#bp-media-resetting").hide(),"done"==o&&n==s&&i==a?(t("#bp-media-import-msg").text(e.data.success_msg),t("#bp-media-import-submit").show()):h()}else t("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})};if(t("#bp-media-import-updating").length&&h(),t(".display-options").length){var _=t(".display-options"),f=t("select[name=bp-display-name-format]"),g=f.val();t(_).each(function(){t(this).hide()}),"first_name"===g?(t(".first-name-options").show(),t(".nick-name-options").hide(),t(".first-last-name-options").hide()):"first_last_name"===g?(t(".first-last-name-options").show(),t(".first-name-options").hide(),t(".nick-name-options").hide()):(t(".nick-name-options").show(),t(".first-name-options").hide(),t(".first-last-name-options").hide()),t(f).change(function(){t(_).each(function(){t(this).hide()}),"first_name"===(g=t(this).val())?(t(".first-name-options").show(),t(".nick-name-options").hide(),t(".first-last-name-options").hide()):"first_last_name"===g?(t(".first-last-name-options").show(),t(".first-name-options").hide(),t(".nick-name-options").hide()):(t(".nick-name-options").show(),t(".first-name-options").hide(),t(".first-last-name-options").hide())})}var y=t(".profile-layout-options");if(y.length){var w=t("select[name=bp-profile-layout-format]"),v=w.val();t(y).each(function(){t(this).hide()}),"list_grid"===v?t(".profile-default-layout").show():t(".profile-default-layout").hide(),t(w).change(function(){t(y).each(function(){t(this).hide()}),"list_grid"===(v=t(this).val())?t(".profile-default-layout").show():t(".profile-default-layout").hide()});(function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var n=e[i].split("=");t[(n[0]+"").trim()]=unescape(n.slice(1).join("="))}return t})().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),e("reset_member","",0))}var x=t(".group-layout-options");if(x.length){var k=t("select[name=bp-group-layout-format]"),C=k.val();t(x).each(function(){t(this).hide()}),"list_grid"===C?t(".group-default-layout").show():t(".group-default-layout").hide(),t(k).change(function(){t(x).each(function(){t(this).hide()}),"list_grid"===(C=t(this).val())?t(".group-default-layout").show():t(".group-default-layout").hide()});(function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var n=e[i].split("=");t[(n[0]+"").trim()]=unescape(n.slice(1).join("="))}return t})().reset_group&&(localStorage.setItem("bp-groups",""),e("reset_group","",0))}if(t("#bp-tools-submit").length){var j=function(e,n){t('body .section-repair_community .settings fieldset .checkbox label[for="'+i[n]+'"]').append('<div class="loader-repair-tools"></div>'),t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:i[n],offset:e,nonce:t('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(t('body .section-repair_community .settings fieldset .checkbox label[for="'+i[n]+'"] .loader-repair-tools').remove(),t('body .section-repair_community .settings fieldset .checkbox label[for="'+i[n]+'"] code').remove(),t('body .section-repair_community .settings fieldset .checkbox label[for="'+i[n]+'"]').append("<code>"+e.data.records+"</code>"),j(e.data.offset,n)):(t('body .section-repair_community .settings fieldset .checkbox label[for="'+i[n]+'"] .loader-repair-tools').remove(),t(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),n+=1,j(e.data.offset,n)),i.length===n&&t("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return t("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})};t(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),i=[],setTimeout(function(){t("body .section-repair_community .settings fieldset .updated").remove()},500),t.each(t('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){i.push(t(this).val())}),i.length&&(t("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),t("body .section-repair_community .settings fieldset .checkbox code").remove(),j(1,0))})}if(t("#bp-tools-forum-submit").length){var T=function(e,i){t('body .section-repair_forums .settings fieldset .checkbox label[for="'+n[i]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==n[i]&&t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:n[i],offset:e,nonce:t('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(t('body .section-repair_forums .settings fieldset .checkbox label[for="'+n[i]+'"] .loader-repair-tools').remove(),t('body .section-repair_forums .settings fieldset .checkbox label[for="'+n[i]+'"] code').remove(),t('body .section-repair_forums .settings fieldset .checkbox label[for="'+n[i]+'"]').append("<code>"+e.data.records+"</code>"),T(e.data.offset,i)):(t('body .section-repair_forums .settings fieldset .checkbox label[for="'+n[i]+'"] .loader-repair-tools').remove(),0===e.data.status?t(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):t(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),i+=1,T(e.data.offset,i)),n.length===i&&t("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return t("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})};t(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),n=[],setTimeout(function(){t("body .section-repair_forums .settings fieldset .updated").remove()},500),t.each(t('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){n.push(t(this).val())}),n.length&&(t("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),t("body .section-repair_forums .settings fieldset .checkbox code").remove(),T(1,0))})}var I=t("#allow-custom-registration"),D=0;I.length&&(0===(D=parseInt(I.val()))?(t(".register-text-box").hide(),t(".register-email-checkbox").show(),t(".register-password-checkbox").show()):(t(".register-email-checkbox").hide(),t(".register-password-checkbox").hide(),t(".register-text-box").show()),t(I).change(function(){0===(D=parseInt(t(this).val()))?(t(".register-text-box").hide(),t(".register-email-checkbox").show(),t(".register-password-checkbox").show(),t(".registration-form-main-select p.description").show()):(t(".register-email-checkbox").hide(),t(".register-password-checkbox").hide(),t(".register-text-box").show(),t(".registration-form-main-select p.description").hide())})),t(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=t(this).closest("table.extension-listing"),i=t(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),n=parseInt(t(".extension-listing tr.default-extension").length);e.find("tbody").append(' <tr class="custom-extension extra-extension"> '+i+" </tr> "),e.find("tbody tr.extra-extension").each(function(){t(this).find("input.extension-check").attr("name","bp_document_extensions_support["+n+"][is_active]"),t(this).find("input.extension-name").attr("name","bp_document_extensions_support["+n+"][name]"),t(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+n+"][hidden]"),t(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+n+"][extension]"),t(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+n+"][mime_type]"),t(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+n+"][description]"),n+=1}),n=parseInt(t(".extension-listing tr.default-extension").length),e.find(".check-mimetype.hidden").show().removeClass("hidden")}),t(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=t(this).closest("table.extension-listing");t(this).closest("tr").remove();var i=parseInt(t(".extension-listing tr.default-extension").length);e.find("tbody tr.extra-extension").each(function(){t(this).find("input.extension-check").attr("name","bp_document_extensions_support["+i+"][is_active]"),t(this).find("input.extension-name").attr("name","bp_document_extensions_support["+i+"][name]"),t(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+i+"][hidden]"),t(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+i+"][extension]"),t(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+i+"][mime_type]"),t(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+i+"][description]"),i+=1})}),t(document).on("submit","#document-upload-check-mime-type",function(e){e.preventDefault();var i=t("#bp-document-file-input").prop("files")[0],n=new FormData;n.append("file",i),n.append("action","bp_document_check_file_mime_type"),t.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:n,type:"post",success:function(e){t(".show-document-mime-type").show(),t(".show-document-mime-type input.type").val(e.data.type)}})}),t(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault(),t(this).hasClass("copying")||(t(this).siblings(".type").select(),document.execCommand("copy"),t(this).parent().append('<span class="mimeCopied">Copied</span>'),t(".mimeCopied").fadeOut(1e3),t(this).addClass("copying"),setTimeout(function(){t(".mimeCopied").remove(),t(".mime-copy.copying").removeClass("copying")},1e3))})})}();
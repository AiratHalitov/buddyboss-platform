// BP Activity Entries - activity loop
// @version 3.0.0

.activity-list {

	padding: $pad-sml;

	.activity-item:before,
	.activity-item:after {
		content: " ";
		display: table;
	}

	.activity-item:after {
		clear: both;
	}

	.activity-item { // li element - (entries)
		list-style: none;
		padding: $pad-med;

		&.has-comments {
			padding-bottom: $pad-med;
		}


		div.item-avatar { // 'div' for weight
			margin: 0 auto;
			text-align: center;
			width: auto;

			img {
				height: auto;
				max-width: 40%;
			}
		}

		@include medium-up() {

			div.item-avatar { // 'div' for weight
				margin: 0 2% 0 0;
				text-align: left;
				width: 15%;

				img {
					max-width: 80%;
				}
			}
		}

		&.mini {

			@include font-size(13);
			position: relative;

			.activity-avatar {
				margin-left: auto;
				text-align: center;
				width: auto;

				img.avatar,
				img.FB_profile_pic { /* stylelint-disable-line selector-class-pattern */
					max-width: 15%;
				}
			}

			@include medium-up() {

				.activity-avatar {
					margin-left: $marg-med;
					text-align: left;
					width: 15%;

					img.avatar,
					img.FB_profile_pic { /* stylelint-disable-line selector-class-pattern */
						max-width: 60%;
					}
				}
			}
		} // close .mini

		&.new_forum_post,
		&.new_forum_topic {

			.activity-inner {
				border-left: 2px solid $light-grey;
				margin-left: $marg-sml;
				padding-left: $pad-med;
			}
		} // close li forum elements


		&.newest_mentions_activity,
		&.newest_friends_activity,
		&.newest_groups_activity,
		&.newest_blogs_activity {
			// why?
			background: rgba(31, 179, 221, 0.1);
		}

		.activity-inreplyto {
			color: $light-text;

			@include font-size(13);

			> p {
				display: inline;
				margin: 0;
			}

			blockquote,
			.activity-inner {
				background: none;
				border: 0;
				display: inline;
				margin: 0;
				overflow: hidden;
				padding: 0;
			}
		}

		// The header elements: date stamp, author etc;
		.activity-header {
			margin: 0 auto;
			width: 80%;

			// ensure elements are display inline, some themes setting avatars as block
			a,
			img {
				display: inline;
			}

			.avatar {
				display: inline-block;
				margin: 0 $marg-xsml;
				vertical-align: bottom;
			}

			.time-since {

				@include font-size(14);
				color: $light-text;
				text-decoration: none;

				&:hover {
					color: $light-text;
					cursor: pointer;
					text-decoration: underline;
				}
			}

			.activity-to {
				visibility: hidden;
				display: inline-block;
				white-space: nowrap;
				width: 1em;
			}

			.activity-to:before {
				font-family: dashicons;
				vertical-align: middle;
				content: "\f344";
				visibility: visible;

				@include medium-lrg-up() {
					font-size: 15px;
				}
			}

			.activity-time-since:before {
				content: "\00b7 ";
				color: $light-text;
				display: inline-block;
				margin-right: 3px;
				vertical-align: middle;
			}

		} // close .activity-header

		.activity-content {

			.activity-header,
			.comment-header {
				color: $light-text;
				margin-bottom: $marg-sml;
			}

			.activity-inner,
			blockquote {
				background: $off-white;
				margin: $marg-med 0 $marg-sml;
				overflow: hidden;
				padding: $pad-med;
			}

			p {
				margin: 0;
			}

			.activity-state {
				display: none;
				font-size: 12px;
				clear: both;

				a {
					border: 0;
				}

				&.has-likes,
				&.has-comments {
					display: block;
				}

				.ac-state-separator {
					display: none;
				}

				&.has-likes.has-comments {

					.ac-state-separator {
						display: inline-block;
					}
				}
			}

		} // close .activity-content

		.activity-inner {

			p {
				word-wrap: break-word;
			}
		}

		.activity-read-more {
			margin-left: 1em; // proportional to the text size please!
			white-space: nowrap;
		}

		// The footer elements, buttons etc

		// if this is a ul then...
		// else we'll skip this for the rules below.
		ul.activity-meta {
			margin: 0;
			padding-left: 0;

			li {
				// if a list is being used keep it inline
				border: 0;
				display: inline-block;
			}
		}

		.activity-meta.action {
			border: 1px solid transparent;
			background: $off-white;
			padding: 2px;
			position: relative;
			text-align: left;

			// this wrapper has generic margins in _bp_lists.scss
			// remove for act stream actions.
			div.generic-button {
				margin: 0;
			}

			.button {
				background: transparent;
			}

			a {
				padding: 4px 8px;
			}

			// we don't want a background hover if icons used
			.button:focus,
			.button:hover {
				background: none;
			}

			// Uncomment .acomment-reply class for icon us
			.button:before,
			.icons:before {
				font-family: dashicons;
				font-size: 18px;
				vertical-align: middle;
			}

			.acomment-reply.button:before {
				content: "\f101";
			}

			.view:before {
				content: "\f125";
			}

			.fav:before {
				content: "\f529";
			}

			.unfav:before {
				content: "\f529";
				color: #0061ac;
			}

			.delete-activity:before {
				content: "\f153";
			}

			.delete-activity:hover {
				color: #800;
			}

			.button {
				border: 0;
				box-shadow: none;

				span {
					background: none;
					font-weight: 600;
				}
			}

			.unfav .like-count {
				color: #0061ac;
			}

		} // close .activity-meta

	} // close .activity-item

} // close .activity-list

@include medium-up() {

	.activity-list.bp-list {
		padding: 30px;
	}

	.activity-list {

		.activity-item {

			.activity-content {
				margin: 0;
				position: relative;

				&:after {
					clear: both;
					content: "";
					display: table;
				}
			}

			.activity-header {
				margin: 0 $marg-med 0 0;
				width: auto;
			}

		} // li entry item
	}
}

.activity-inner:empty {
	display: none;
}

.buddypress-wrap {

	// load more link
	.activity-list {

		.load-more,
		.load-newest {
			background: $off-white;
			border: 1px solid $bp-border-color;
			font-size: 110%;
			margin: $marg-med 0;
			padding: 0;
			text-align: center;

			a {
				color: $dark-grey;
				display: block;
				padding: $pad-sml 0;

				&:focus,
				&:hover, {
					background: $white;
					color: $black;
				}
			}

			&:focus,
			&:hover {
				border-color: darken($bp-border-color, 5%);

				@include box-shadow(0 0 6px 0 $light-grey);
			}
		}

	}
}

.activity-url-scrapper-container {
	.activity-url-scrapper-loading {
		margin-top: 40px;
	}

	#activity-url-scrapper {
		border: 1px solid rgba(0,0,0,0.07);
		background-color: rgba(250,250,250,0.2);
		margin: 20px 0 10px;
		overflow: hidden;
		position: relative;
		padding: 15px;

		td {
			vertical-align: middle;
			padding: 8px 15px;

			#activity-close-link-suggestion {
				font-size: 0;
				line-height: 0;
				text-indent: -999em;
				overflow: hidden;
				text-align: center;
				display: block;
			}

			#activity-close-link-suggestion:after {
				content: "\f00d";
				display: inline-block;
				font: normal normal normal 20px/1 'Font Awesome 5 Free';
				text-rendering: auto;
				vertical-align: bottom;
				-webkit-font-smoothing: antialiased;
				-moz-osx-font-smoothing: grayscale;
			}
		}

		#activity-url-scrapper-img-holder {
			td { border: none; }

			#activity-url-scrapper-img {
				background-position: center;
				background-color: white;
				background-repeat: no-repeat;
				background-size: contain;
				text-align: center;
				margin-bottom: 10px;

				img {
					max-width: 100%;
				}
			}

			#activity-url-prevPicButton,
			#activity-url-nextPicButton {
				cursor: pointer;
				cursor: pointer;
				width: auto;
				padding: 6px 15px;
				margin: 0 5px;
			}

			#activity-url-scrapper-img-count {
				font-size: 11px;
				color: #7f7f7f;
				text-align: center;
				margin-top: 10px;
			}

			.activity-url-thumb-nav {
				text-align: center;
			}
		}

		#activity-url-scrapper-text-holder {
			border: none;
			overflow: hidden;
			text-align: left;
		}

		#activity-url-scrapper-text-holder #activity-url-scrapper-title {
			font-weight: bold;
			font-size: 16px;
			margin-bottom: 5px;
		}
	}
}

#activity-url-error {
	color: #FF0000;
}

#activity-url-scrapper-url {
	color: rgba(0, 0, 0, 0.6);
	font-size: 14px;
}

.activity-link-preview-title { display: block; margin-bottom: 5px; margin-right: 5px; }

.activity-link-preview-title > a {  font-size: 16px; font-weight: 700; }

#activity-close-link-suggestion {
	border: 0;
	color: rgba(0, 0, 0, 0.4);
	font-size: 16px;
	position: absolute;
	right: 8px;
	top: 0;
	text-decoration: none;
}

#activity-link-preview-close-image {
	border: 0;
	color: #fff;
	font-size: 16px;
	right: 3px;
	position: absolute;
	top: 0;
	text-decoration: none;
}

#activity-close-link-suggestion:focus, #activity-link-preview-close-image:focus {
	outline: 0;
}


/* Media query for only large devices */
@media only screen and (min-width: 481px) {
	.activity-url-scrapper-container #activity-url-scrapper #activity-url-scrapper-img-holder {
		border: none;
		float: left;
		position: relative;
	}

	.activity-url-scrapper-container #activity-url-scrapper #activity-url-scrapper-text-holder {
		padding: 0 15px;
	}

	.activity-url-scrapper-container #activity-url-scrapper #activity-url-scrapper-img-holder #activity-url-scrapper-img img {
		height: auto;
		max-height: 120px;
		width: 200px;
	}

	.activity-link-preview-container {
		overflow: hidden;
	}

	.activity-link-preview-image {
		float: left;
		max-width: 200px;
	}

	.activity-link-preview-image a img {
		max-width: 100%;
	}

	.activity-link-preview-content {
		overflow: hidden;
		padding: 0 0 0 15px;
	}
}

/* Media query for only small devices */
@media only screen and (max-width: 480px) {
	.activity-link-preview-image {
		margin-bottom: 20px;
	}
	#activity-link-preview-close-image {
		right: 22px;
		top: 17px;
	}
}

@media only screen and  ( max-width: 640px ) {
	.activity-link-preview-content {
		width: 100%;;
		clear: both;
	}
}
